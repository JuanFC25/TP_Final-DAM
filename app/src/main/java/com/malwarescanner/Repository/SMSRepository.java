package com.malwarescanner.Repository;

import android.content.Context;

import androidx.room.Room;

import com.malwarescanner.Modelo.AnalisisSMS;
import com.malwarescanner.db.MyDatabase;
import com.malwarescanner.interfaces.DaoInterface;

import java.util.List;

public class SMSRepository {

    private static SMSRepository _REPO=null;
    private DaoInterface daoInterface;


    private SMSRepository(Context ctx){
        MyDatabase db = Room.databaseBuilder(ctx, MyDatabase.class, "DAM-PRY-2023").fallbackToDestructiveMigration().build();
        daoInterface= db.daoInterface();
    }

    public static SMSRepository getInstance(Context ctx){
        if (_REPO==null) _REPO=new SMSRepository(ctx);
        return _REPO;
    }

    public void insertarSMS(AnalisisSMS sms){daoInterface.insertarSMS(sms);}

    public void borrarTodosLosSMS(){daoInterface.borrarTodosLosSMS();}

    public List<AnalisisSMS> obtenerSMSconPhishing(){return daoInterface.obtenerSMSconPhishing();}



}
